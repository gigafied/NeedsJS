/*
 * needs.js v0.9.4
 * http://minion.org
 *
 * (c) 2012, Taka Kojima (taka@gigafied.com)
 * Licensed under the MIT License
 *
 * Date: Thu Feb 23 23:55:32 2012 -0800
 */
 (function(){function l(a){return a instanceof Array}function m(a,b){a=a.replace(/(?:^|[^\.])(\.\/)/g,"/");while(b!==a)b=a,a=a.replace(/([\w,\-]*[\/]{1,})([\.]{2,}\/)/g,"/");return a=a.replace(/(\/{2,})/g,"/"),a.charAt(0)==="/"?a.substr(1):a}function n(a){return a?a.substr(0,a.lastIndexOf("/")):a}function o(a,b){return m((b||h)+"/"+a)}function p(b,c,d,e){for(b=a.length-1;b>=0;b--){e=1,d=a[b];if(d){for(c=d.m.length-1;c>=0;c--)if(!z(d.m[c])){e=0;break}e&&(a.splice(b,1),d.cb&&d.cb.apply(k,z(d.m)))}}}function q(a,c,d,f){function g(a){return a=d.readyState,!a||a=="complete"||a=="loaded"}e||(e=document.head||document.getElementsByTagName("head")[0]),d=document.createElement("script"),d.async=!0,d.src=a,d.onreadystatechange=d.onload=function(){g()&&(d.onload=d.onreadystatechange=d.onerror=null,b.length>0&&(f=b.splice(0,1)[0],f&&(f.splice(0,0,c),f.splice(f.length,0,!0),y.apply(k,f))))},d.onerror=function(b){throw d.onload=d.onreadystatechange=d.onerror=null,Error(a+" failed to load.")},e.insertBefore(d,e.firstChild)}function r(b,d,e,f){a.push(b);for(d=0;d<b.f.length;d++)e=b.f[d],f=b.m[d],e&&!c[e]&&(c[e]=1,q(e,f))}function s(a,b,c,e,f,g,h,i){if(a==="require")return z;if(a==="module"||a==="exports")return a;e=d,h=a.split("/");for(f=0,g=h.length;f<g;f++){i=h[f];if(!e[i]){if(!b)return!1;e[i]={}}e=b?e[i]=b:e[i]}return c?e:e.exports||e}function t(a,b){if(!l(a))return s(a);var c=[];for(b=0;b<a.length;b++)c[b]=t(a[b]);return c}function u(a){for(var b in j)a=a.replace(RegExp("(^"+b+")","g"),j[b]);return a+".js"+i}function v(a,b,c){for(var d in b)c=a.indexOf(d),c>-1&&(a[c]=b[d]);return a}function w(a,b,c,d,e,f,h,i){b=g[a]||[],c=[];for(d=0;d<b.length;d++){f=b[d],h=g[f];if(h)for(e=0;e<h.length;e++)i=h[e],i!=a&&b.indexOf(i)<0?b.push(i):i===a&&c.push(f)}return[b,c]}function x(a,b,c,d,e){g[a]=b.slice(0),c=w(a)[1];for(d=0;d<c.length;d++)e=c[d],s(e,{id:0,url:0,exports:{}})}"use strict",Array.prototype.indexOf=Array.prototype.indexOf||function(a,b,c,d){for(b=this,c=b.length,d=-1;~c;d=b[--c]===a?c:d);return d};var a=[],b=[],c={},d={},e,f=null,g={},h="",i="",j={},k=window?window:module.exports,y=function(a,c,d,e,g,h,i){if(typeof a!="string"){d=c,c=a,a=null,b.push([c,d]);return}l(c)||(d=c,c=[]),e||b.push(null),f=a,!c.length&&d.length&&typeof d=="function"&&((d+"").replace(/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,"").replace(/(?:require)\(\s*["']([^'"\s]+)["']\s*\)/g,function(a,b){c.indexOf(b)<0&&c.push(b)}),c=(d.length>1?["require","exports","module"]:["require"]).concat(c));if(c.length&&!g){x(a,c),z(c,function(){y(a,Array.prototype.slice.call(arguments,0),d,!0,!0)},n(a)),f=null;return}h=s(a,null,!0),h=h||{exports:{}},h.id=a,h.url=u(a),typeof d=="function"?(i=v(c.length?c:d.length>1?[z,"exports","module"]:[z],{module:h,exports:h.exports}),h.exports=d.apply(d,i)||h.exports):h.exports=d,s(a,h),f=null,p()};y.amd={};var z=function(a,b,c){if(!b)return typeof a=="object"&&!l(a)?z.config(a):t(a);a=l(a)?a:[a];var d,e,f,g,h,i=[],j=[],m=[];for(d=0;d<a.length;d++)e=o(a[d],c),f=z(e),f?(m.push(f),i.push("")):(g=u(e),i.push(g)),j.push(e);if(i.length>m.length){r({f:i,m:j,cb:b});return}b.apply(k,m)};z.config=function(a){a=a||{},h=a.baseUrl||h,i=a.fileSuffix?"?"+a.fileSuffix:i;for(var b in a.paths)j[b]=a.paths[b]},z.toUrl=function(a){return o(a,f)},k.require&&z.config(k.require),k.define=k.define||y,k.require=k.require||z})();
