/*
 * needs.js v0.9.6
 * http://minion.org
 *
 * (c) 2012, Taka Kojima (taka@gigafied.com)
 * Licensed under the MIT License
 *
 * Date: Tue Feb 28 22:03:43 2012 -0800
 */
 (function(a){function n(a){return a instanceof Array}function o(a,b){a=a.replace(/(^|[^\.])(\.\/)/g,"$1");while(b!==a)b=a,a=a.replace(/([\w,\-]*[\/]{1,})([\.]{2,}\/)/g,"");return a.replace(/(\/{2,})/g,"/")}function p(a){return a.substr(0,a.lastIndexOf("/"))}function q(a,b){return b=a.indexOf(".")<0?"":b,~h.indexOf(a)||~a.indexOf("!")?a.replace(/([\d,\w,\s,\.\/]*)(?=\!)/,function(a,c){return q(c,b)}):o((b?b+"/":"")+a)}function r(a,c,d,e){for(a=b.length-1;~a&&(d=b[a]);a--){e=1;for(c=d.m.length-1;~c&&e;c--)e=w(d.m[c]);e&&(b.splice(a,1),B(d.m,d.cb))}}function s(b,d){c.length&&(d=c.splice(0,1)[0],d&&(d.splice(0,0,b),d.splice(d.length,0,1),A.apply(a,d)))}function t(a,b,c,d,e,g){return f=f||document.getElementsByTagName("head")[0],c=document.createElement("script"),c.src=a,c.onreadystatechange=c.onload=function(){if(!c.readyState||c.readyState==="complete"||c.readyState==="loaded")clearTimeout(g),c.onload=c.onreadystatechange=c.onerror=null,s(b)},c.onerror=function(b){throw clearTimeout(g),c.onload=c.onreadystatechange=c.onerror=null,Error(a+" failed to load.")},g=setTimeout(c.onerror,l*1e3),f.insertBefore(c,f.firstChild),1}function u(a,c,e,f,g,h,i){g={m:a,cb:c},b.push(g);for(f=0;f<a.length;f++){h=a[f];if(~h.indexOf("!")){v(h,e,g,f);continue}i=x(h),d[i]=!w(h)&&!d[i]?t(i,h):1}}function v(a,b,d,e,f,g,h){h=(b?b+"/":"")+"plugins/"+a.replace(/\//g,"_"),d&&(d.m[e]=h),a=a.split("!"),g=a.splice(0,1)[0],a=a.join("!"),f=w(h);if(!d||f)return f;B(g,function(f){function j(a){w(h,{exports:a}),r()}return a=f.normalize?f.normalize(a,function(a){return q(a,b)}):o(a),j.fromText=function(a,b,f){d.m[e]=h=a,f=c.length,Function(b)(),c.length-f&&s(h)},f.load(a,B.localize(p(g)),j,i[g]||{})})}function w(a,b,c,d){return~h.indexOf(a)?a:(d=e[a]=b||e[a],d&&d.exports?c?d:d.exports:0)}function x(a,b){b=!a.indexOf("/")||!a.indexOf("http")?"":j;for(var c in m)a=a.replace(RegExp("(^"+c+")","g"),m[c]);return b+a+(a.indexOf(".")<0?".js":"")+k}function y(a,b,c){for(var d in b)c=a.indexOf(d),~c&&(a[c]=b[d]);return a}function z(a,b,c,d,e,f,h,i,j){g[a]=b;for(d=0;d<b.length;d++){f=b[d],h=g[f];if(h)for(e=0;e<h.length;e++)i=h[e],b.indexOf(i)<0&&(i!==a?b.push(i):w(f,{exports:{}}))}}function A(a,b,d,e,f,i,j,k,l){if(typeof a!="string"){d=b,b=a,a=0,c.push([b,d]);return}n(b)||(d=b,b=[]),e||c.push(0),k=p(a),!b.length&&d.length&&typeof d=="function"&&((d+"").replace(/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,"").replace(/(?:require)\(\s*["']([^'"\s]+)["']\s*\)/g,function(a,c){b.indexOf(c)<0&&b.push(c)}),b=h.slice(0,d.length).concat(b));if(b.length&&!f){z(a,b.slice(0)),B(b,function(){A(a,Array.prototype.slice.call(arguments,0),d,1,1)},k);return}i=w(a,0,1),i=i||{exports:{}},i.id=a,i.url=x(a),typeof d=="function"?(j=y(b.length?b:h.slice(0,d.length),{require:B.localize(k),module:i,exports:i.exports}),l=j.indexOf(B),~l&&(j[l]=B.localize(k)),i.exports=d.apply(d,j)||i.exports):i.exports=d,w(a,i),delete g[a],r()}function B(b,c,d,e,f,g){if(!c){b=q(b,d),c=w(b);if(!c){plugin=v(b,d);if(plugin)return plugin;throw Error(b+" is not defined.")}return c}b=n(b)?b:[b],g=[];for(f=0;f<b.length;f++)b[f]=q(b[f],d),g.push(w(b[f]));if(~g.indexOf(0)){u(b,c,d);return}return c.apply(a,y(g,{require:B}))}Array.prototype.indexOf=Array.prototype.indexOf||function(a,b,c,d){for(b=this,c=b.length,d=-1;~c;d=b[--c]===a?c:d);return d};var b=[],c=[],d={},e={},f,g={},h=["require","exports","module"],i={},j="",k="",l=10,m={};A.amd={},B.config=function(a){i=a||{},j=i.baseUrl||j,j+=j&&j.charAt(j.length-1)!=="/"?"/":"",k=i.urlArgs?"?"+i.urlArgs:k,l=i.waitSeconds||l;for(var b in i.paths)m[b]=i.paths[b]},B.toUrl=function(a,b){return x(q(a,b))},B.localize=function(a){function b(b,c){return B(b,c,a)}return b.toUrl=function(b){return B.toUrl(b,a)},b},a.define=a.define||A,a.require=a.require||B})(window||exports);
