/*
 * needs.js v0.9.5
 * http://minion.org
 *
 * (c) 2012, Taka Kojima (taka@gigafied.com)
 * Licensed under the MIT License
 *
 * Date: Fri Feb 24 16:10:15 2012 -0800
 */
 (function(){function l(a){return a instanceof Array}function m(a,b){a=a.replace(/(?:^|[^\.])(\.\/)/g,"/");while(b!==a)b=a,a=a.replace(/([\w,\-]*[\/]{1,})([\.]{2,}\/)/g,"/");return a=a.replace(/(\/{2,})/g,"/"),a.charAt(0)==="/"?a.substr(1):a}function n(a){return a.substr(0,a.lastIndexOf("/"))}function o(a,b){return m((b||"")+"/"+a)}function p(b,c,d,e){for(b=a.length-1;b>=0;b--){e=1,d=a[b];if(d){for(c=d.m.length-1;c>=0;c--)if(!s(d.m[c])){e=0;break}e&&(a.splice(b,1),d.cb&&y(d.m,d.cb))}}}function q(a,c,d,f,g,h){function i(){clearTimeout(h),d.onload=d.onreadystatechange=d.onerror=null}return e||(e=document.head||document.getElementsByTagName("head")[0]),d=document.createElement("script"),d.async=!0,d.src=a,d.onreadystatechange=d.onload=function(){g=!d.readyState||d.readyState==="complete"||d.readyState==="loaded",g&&(i(),b.length&&(f=b.splice(0,1)[0],f&&(f.splice(0,0,c),f.splice(f.length,0,!0),x.apply(k,f))))},d.onerror=function(b){throw i(),Error(a+" failed to load.")},h=setTimeout(d.onerror,j*1e3),e.insertBefore(d,e.firstChild),1}function r(b,d,e){a.push(b);for(d=0;d<b.f.length;d++)e=b.f[d],c[e]=e&&!c[e]?q(e,b.m[d]):1}function s(a,b,c,e,f,g,h,i){if(a==="require"||a==="module"||a==="exports")return a;e=d,h=a.split("/");for(f=0,g=h.length;f<g;f++){i=h[f];if(!e[i]||!e[i].exports&&f===g-1){if(!b)return!1;e[i]=f===g-1&&b?b:{}}e=e[i]}return c?e:e.exports||e}function t(a){for(var b in i)a=a.replace(RegExp("(^"+b+")","g"),i[b]);return g+m(a)+(a.indexOf(".")<0?".js":"")+h}function u(a,b,c){for(var d in b)c=a.indexOf(d),c>-1&&(a[c]=b[d]);return a}function v(a,b,c,d,e,g,h,i){b=f[a]||[],c=[];for(d=0;d<b.length;d++){g=b[d],h=f[g];if(h)for(e=0;e<h.length;e++)i=h[e],i!=a&&b.indexOf(i)<0?b.push(i):i===a&&c.push(g)}return c}function w(a,b,c,d,e){f[a]=b.slice(0),c=v(a);for(d=0;d<c.length;d++)e=c[d],s(e,{id:0,url:0,exports:{}})}"use strict",Array.prototype.indexOf=Array.prototype.indexOf||function(a,b,c,d){for(b=this,c=b.length,d=-1;~c;d=b[--c]===a?c:d);return d};var a=[],b=[],c={},d={},e,f={},g="",h="",i={},j=10,k=window||exports,x=function(a,c,d,e,g,h,i,j){if(typeof a!="string"){d=c,c=a,a=null,b.push([c,d]);return}l(c)||(d=c,c=[]),e||b.push(null),j=n(a),!c.length&&d.length&&typeof d=="function"&&((d+"").replace(/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,"").replace(/(?:require)\(\s*["']([^'"\s]+)["']\s*\)/g,function(a,b){c.indexOf(b)<0&&c.push(b)}),c=(d.length>1?["require","exports","module"]:["require"]).concat(c));if(c.length&&!g){w(a,c),y(c,function(){x(a,Array.prototype.slice.call(arguments,0),d,!0,!0)},j);return}h=s(a,null,!0),h=h||{exports:{}},h.id=a,h.url=t(a);if(typeof d=="function"){i=u(c.length?c:d.length>1?["require","exports","module"]:["require"],{require:y.localize(j),module:h,exports:h.exports});var k=i.indexOf(y);k>-1&&(i[k]=y.localize(j)),h.exports=d.apply(d,i)||h.exports}else h.exports=d;s(a,h),delete f[a],p()};x.amd={};var y=function(a,b,c){if(!b){if(typeof a=="object"&&!l(a))return y.config(a);b=s(o(a,c));if(!b)throw Error(a+" is not defined.");return b}a=l(a)?a:[a];var d,e,f,g=[],h=[],i=[];for(d=0;d<a.length;d++)e=o(a[d],c),f=s(e),h.push(e),f?(i.push(f),g.push(0)):g.push(t(e));if(g.length>i.length){r({f:g,m:h,cb:b});return}b.apply(k,u(i,{require:y}))};y.config=function(a){a=a||{},g=a.baseUrl||g,g+=g&&g.charAt(g.length-1)!=="/"?"/":"",h=a.urlArgs?"?"+a.urlArgs:h,j=a.waitSeconds||j;for(var b in a.paths)i[b]=a.paths[b]},y.toUrl=function(a,b){return t(o(a,b))},y.localize=function(a){function b(b,c){return y(b,c,a)}return b.toUrl=function(b){return y.toUrl(b,a)},b},k.define=k.define||x,k.require=k.require||y})();
