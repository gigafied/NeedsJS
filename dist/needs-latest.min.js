/*
 * needs.js v0.0.1
 * http://minion.org
 *
 * (c) 2012, Taka Kojima (taka@gigafied.com)
 * Licensed under the MIT License
 *
 * Date: Wed Feb 22 15:25:10 2012 -0800
 */
 (function(){function l(a){return a instanceof Array}function m(a){return typeof a=="object"}function n(a){return typeof a=="function"}function o(a){return l(a)?a:[a]}function p(a){a=a.replace(/(?:^|[^\.])(\.\/)/g,"/");var b="";while(b!==a)b=a,a=a.replace(/([\w,\-]*[\/]{1,})([\.]{2,}\/)/g,"/");return a=a.replace(/(\/{2,})/g,"/"),a}function q(a){return a?a.substr(0,a.lastIndexOf("/")):a}function r(a,b){return b=b||i,p(b+"/"+a)}function s(a,b,d,e,f){e={};for(a=0;a<c.length;a++){f=!0,e=c[a];for(b=e.m.length-1;b>=0;b--)if(!w(e.m[b])){f=!1;break}f&&(c.splice(a,1),a--,e.cb&&(e.cb.apply(k,w(e.m)),e.cb=null))}}function t(a,b,c,e,f,i){console.log(a),h||(g=document,h=g.head||g.getElementsByTagName("head")[0]),i=g.createElement("script"),i.async=!0,i.src=a,i.onreadystatechange=i.onload=function(){i.onload=i.onreadystatechange=i.onerror=null;var a=d.splice(d.length-1,1)[0];a.unshift(b),z.apply(k,a)},i.onerror=function(b){throw i.onload=i.onreadystatechange=i.onerror=null,Error(a+" failed to load.")},h.insertBefore(i,h.firstChild)}function u(a,d){c.push(a);for(d=0;d<a.f.length;d++)b?A(a.f[d]):e.indexOf(a.f[d])<0&&(e.push(a.f[d]),t(a.f[d],a.m[d]))}function v(a,b,c,d,e,g){c=f;if(!a)return!1;g=a.split("/");for(d=0,e=g.length;d<e;d++){if(!c[g[d]]){if(!b)return!1;c[g[d]]=d===e-1?b:{}}c=c[g[d]]}return c}"use strict",Array.prototype.indexOf=Array.prototype.indexOf||function(a,b,c,d){for(b=this,c=b.length,d=-1;~c;d=b[--c]===a?c:d);return d};var a=[],b=typeof window=="undefined",c=[],d=[],e=[],f={},g,h,i="",j="",k=b?module.exports:window,w=function(a,b){if(!l(a))return v(a);var c=[];for(b=0;b<a.length;b++)c[b]=w(a[b]);return c},x=function(b){return a[b]?a[b]:b.indexOf("*")>-1?b.replace("/*",""):b+".js"+j},y=function(b,c,d){c=o(c);for(d=c.length-1;d>=0;d--)a[c[d]]=b},z=function(){var a,b,c,e,f=Array.prototype.slice.call(arguments,0);if(f.length===1)c=f[0];else if(f.length===2||f[2]===null)c=f[1],l(f[0])?b=f[0]:(a=f[0],c=f[1]);else{if(f.length!==3)throw Error("Invalid call to define()");a=f[0],b=f[1],c=f[2]}if(!a){d.push(f);return}b=b||[],e=x(a);if(b.length>0){A(b,function(){z(a,c,null,arguments)},e);return}n(c)&&(c=c.apply(c,f[3]||[])),v(a,c),s()},A=function(a,b,c){a=o(a);var d=[],e=[],f=[],g=!0,h,i,j,l,m;for(h=0;h<a.length;h++)i=r(a[h],q(c)),j=w(i),j?f.push(j):(g=!1,l=x(i),e.push(i),d.push(l));if(!g){m={f:d,m:e,cb:b},u(m);return}b.apply(k,f)};A.configure=function(a){a=a||{},i=a.rootPath||i,j=a.fileSuffix?"?"+a.fileSuffix:j;if(a.paths)for(var b in a.paths)y(b,a.paths[b])},A.get=w,k.require&&A.configure(k.require),k.define=z,k.require=A})();
