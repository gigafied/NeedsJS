/*
 * needs.js v0.9.5
 * http://minion.org
 *
 * (c) 2012, Taka Kojima (taka@gigafied.com)
 * Licensed under the MIT License
 *
 * Date: Fri Feb 24 15:54:54 2012 -0800
 */
 (function(){function k(a){return a instanceof Array}function l(a,b){a=a.replace(/(?:^|[^\.])(\.\/)/g,"/");while(b!==a)b=a,a=a.replace(/([\w,\-]*[\/]{1,})([\.]{2,}\/)/g,"/");return a=a.replace(/(\/{2,})/g,"/"),a.charAt(0)==="/"?a.substr(1):a}function m(a){return a.substr(0,a.lastIndexOf("/"))}function n(a,b){return l((b||"")+"/"+a)}function o(b,c,d,e){for(b=a.length-1;b>=0;b--){e=1,d=a[b];if(d){for(c=d.m.length-1;c>=0;c--)if(!r(d.m[c])){e=0;break}e&&(a.splice(b,1),d.cb&&x(d.m,d.cb))}}}function p(a,c,d,f,g){return e||(e=document.head||document.getElementsByTagName("head")[0]),d=document.createElement("script"),d.async=!0,d.src=a,d.onreadystatechange=d.onload=function(){g=!d.readyState||d.readyState==="complete"||d.readyState==="loaded",g&&(d.onload=d.onreadystatechange=d.onerror=null,b.length&&(f=b.splice(0,1)[0],f&&(f.splice(0,0,c),f.splice(f.length,0,!0),w.apply(j,f))))},d.onerror=function(b){throw d.onload=d.onreadystatechange=d.onerror=null,Error(a+" failed to load.")},e.insertBefore(d,e.firstChild),1}function q(b,d,e){a.push(b);for(d=0;d<b.f.length;d++)e=b.f[d],c[e]=e&&!c[e]?p(e,b.m[d]):1}function r(a,b,c,e,f,g,h,i){if(a==="require"||a==="module"||a==="exports")return a;e=d,h=a.split("/");for(f=0,g=h.length;f<g;f++){i=h[f];if(!e[i]||!e[i].exports&&f===g-1){if(!b)return!1;e[i]=f===g-1&&b?b:{}}e=e[i]}return c?e:e.exports||e}function s(a){for(var b in i)a=a.replace(RegExp("(^"+b+")","g"),i[b]);return g+l(a)+(a.indexOf(".")<0?".js":"")+h}function t(a,b,c){for(var d in b)c=a.indexOf(d),c>-1&&(a[c]=b[d]);return a}function u(a,b,c,d,e,g,h,i){b=f[a]||[],c=[];for(d=0;d<b.length;d++){g=b[d],h=f[g];if(h)for(e=0;e<h.length;e++)i=h[e],i!=a&&b.indexOf(i)<0?b.push(i):i===a&&c.push(g)}return c}function v(a,b,c,d,e){f[a]=b.slice(0),c=u(a);for(d=0;d<c.length;d++)e=c[d],r(e,{id:0,url:0,exports:{}})}"use strict",Array.prototype.indexOf=Array.prototype.indexOf||function(a,b,c,d){for(b=this,c=b.length,d=-1;~c;d=b[--c]===a?c:d);return d};var a=[],b=[],c={},d={},e,f={},g="",h="",i={},j=window||exports,w=function(a,c,d,e,g,h,i,j){if(typeof a!="string"){d=c,c=a,a=null,b.push([c,d]);return}k(c)||(d=c,c=[]),e||b.push(null),j=m(a),!c.length&&d.length&&typeof d=="function"&&((d+"").replace(/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,"").replace(/(?:require)\(\s*["']([^'"\s]+)["']\s*\)/g,function(a,b){c.indexOf(b)<0&&c.push(b)}),c=(d.length>1?["require","exports","module"]:["require"]).concat(c));if(c.length&&!g){v(a,c),x(c,function(){w(a,Array.prototype.slice.call(arguments,0),d,!0,!0)},j);return}h=r(a,null,!0),h=h||{exports:{}},h.id=a,h.url=s(a);if(typeof d=="function"){i=t(c.length?c:d.length>1?["require","exports","module"]:["require"],{require:x.localize(j),module:h,exports:h.exports});var l=i.indexOf(x);l>-1&&(i[l]=x.localize(j)),h.exports=d.apply(d,i)||h.exports}else h.exports=d;r(a,h),delete f[a],o()};w.amd={};var x=function(a,b,c){if(!b){if(typeof a=="object"&&!k(a))return x.config(a);b=r(n(a,c));if(typeof b!="object")throw Error(a+" is not defined.");return b}a=k(a)?a:[a];var d,e,f,g=[],h=[],i=[];for(d=0;d<a.length;d++)e=n(a[d],c),f=r(e),h.push(e),f?(i.push(f),g.push(0)):g.push(s(e));if(g.length>i.length){q({f:g,m:h,cb:b});return}b.apply(j,t(i,{require:x}))};x.config=function(a){a=a||{},g=a.baseUrl||g,g+=g&&g.charAt(g.length-1)!=="/"?"/":"",h=a.urlArgs?"?"+a.urlArgs:h;for(var b in a.paths)i[b]=a.paths[b]},x.toUrl=function(a,b){return s(n(a,b))},x.localize=function(a){function b(b,c){return x(b,c,a)}return b.toUrl=function(b){return x.toUrl(b,a)},b},j.define=j.define||w,j.require=j.require||x})();
