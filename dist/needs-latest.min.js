/*
 * needs.js v0.0.1
 * http://minion.org
 *
 * (c) 2012, Taka Kojima (taka@gigafied.com)
 * Licensed under the MIT License
 *
 * Date: Wed Feb 22 16:39:13 2012 -0800
 */
 (function(){function k(a){return a instanceof Array}function l(a){return k(a)?a:[a]}function m(a){a=a.replace(/(?:^|[^\.])(\.\/)/g,"/");var b="";while(b!==a)b=a,a=a.replace(/([\w,\-]*[\/]{1,})([\.]{2,}\/)/g,"/");return a=a.replace(/(\/{2,})/g,"/"),a}function n(a){return a?a.substr(0,a.lastIndexOf("/")):a}function o(a,b){return b=b||f||g,m(b+"/"+a)}function p(b,c,d,e,f){for(b=0;b<a.length;b++){f=!0,e=a[b];for(c=e.m.length-1;c>=0;c--)if(!t(e.m[c])){f=!1;break}f&&(a.splice(b,1),b--,e.cb&&e.cb.apply(j,t(e.m)))}}function q(a,c,d,f){e||(e=document.head||document.getElementsByTagName("head")[0]),d=document.createElement("script"),d.async=!0,d.src=a,d.onreadystatechange=d.onload=function(){d.onload=d.onreadystatechange=d.onerror=null,b.length>0&&(f=b.splice(b.length-1,1)[0],f.unshift(c),v.apply(j,f))},d.onerror=function(b){throw d.onload=d.onreadystatechange=d.onerror=null,Error(a+" failed to load.")},e.insertBefore(d,e.firstChild)}function r(b,d){a.push(b);for(d=0;d<b.f.length;d++)c.indexOf(b.f[d])<0&&(c.push(b.f[d]),q(b.f[d],b.m[d]))}function s(a,b,c,e,f,g,h){if(!a)return!1;a=a.charAt(0)=="/"?a.substr(1):a,c=d,g=a.split("/");for(e=0,f=g.length;e<f;e++){h=g[e];if(!c[h]){if(!b)return!1;c[h]=e===f-1?b:{}}c=c[h]}return c.exports||c}"use strict",Array.prototype.indexOf=Array.prototype.indexOf||function(a,b,c,d){for(b=this,c=b.length,d=-1;~c;d=b[--c]===a?c:d);return d};var a=[],b=[],c=[],d={},e,f=null,g="",h="",i=[],j=typeof window!="undefined"?window:module.exports,t=function(a,b){if(!k(a))return s(a);var c=[];for(b=0;b<a.length;b++)c[b]=t(a[b]);return c},u=function(a){return a=a.charAt(0)=="/"?a.substr(1):a,a.indexOf("*")>-1?a.replace("/*",""):a+".js"+h},v=function(){var a,c,d,e,g,h=Array.prototype.slice.call(arguments,0);if(h.length===1)d=h[0];else if(h.length===2||h[2]===null)d=h[1],k(h[0])?c=h[0]:(a=h[0],d=h[1]);else{if(h.length!==3)throw Error("Invalid call to define()");a=h[0],c=h[1],d=h[2]}if(!a){b.push(h);return}f=a,c=c||[];if(c.length>0){w(c,function(){v(a,d,null,arguments)},u(a));return}typeof d=="function"&&(g={exports:{}},d=d.apply(d,h[3]||[w,g.exports,g])||g),s(a,d),p()};v.amd={};var w=function(a,b,c){if(!b)return t(a);a=l(a);var d,e,f,g,h,i=[],k=[],m=[];for(d=0;d<a.length;d++)e=o(a[d],n(c)),f=t(e),f?m.push(f):(g=u(e),k.push(e),i.push(g));if(k.length>0){r({f:i,m:k,cb:b});return}b.apply(j,m)};w.config=function(a){a=a||{},g=a.rootPath||g,h=a.fileSuffix?"?"+a.fileSuffix:h,i=i.concat(a.paths||[])},j.require&&w.config(j.require),s("require",w),s("module",{}),s("exports",{}),j.define=v,j.require=w})();
