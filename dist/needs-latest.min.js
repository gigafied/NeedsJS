/*
 * needs.js v0.0.1
 * http://minion.org
 *
 * (c) 2012, Taka Kojima (taka@gigafied.com)
 * Licensed under the MIT License
 *
 * Date: Tue Feb 21 18:34:39 2012 -0800
 */
 (function(a){"use strict",Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(!!this.length&&this instanceof Array&&arguments.length>=1){b=b||0;if(b<this.length){while(b<this.length){if(this[b]===a)return b;b++}return-1}return-1}return-1});var b=[],c,d=[],e,f=[],g=[],h=500,i=typeof window=="undefined",j=null,k={},l=function(a){return a instanceof Array},m=function(a){return typeof a=="object"},n=function(a){return typeof a=="function"},o=function(a){return l(a)?a:[a]},p=function(a){return setTimeout(a,0)},q=function(a){j=a},r=function(){return j},s=function(){var b,c,e,f,g;e={},f={},g=[];for(b=d.length-1;b>=0;b--){e=d[b];for(c=e.m.length-1;c>=0;c--)if(!x.get(e.m[c])){p(s);return}e.cb&&e.cb.apply(a,x.get(e.m)),d.splice(b,1)}},t=function(){var a=f,b,c;clearTimeout(e);for(b=0;b<a.length;b+=1)c=a[b],c.e+=50,c.e>=x.errorTimeout&&c.s.onerror();a.length>0&&(e=setTimeout(t,h))},u=function(a,b){var c=document,d="body",e,g;if(!c[d])return p(function(){u(a,b)});g=c.createElement("script"),g.async=!0,e={f:a,m:b,e:0,s:g},f.push(e),g.onreadystatechange=g.onload=function(a){e.s.onload=e.s.onreadystatechange=null,e.s.onerror=null,f.splice(f.indexOf(e),1)},g.onerror=function(a){throw e.s.onload=e.s.onreadystatechange=null,e.s.onerror=null,f.splice(f.indexOf(e),1),Error(e.m+" failed to load. Attempted to load from file: "+e.f)},g.src=a,c[d].appendChild(g)},v=function(a){d.push(a);for(var b=0;b<a.f.length;b+=1)return i?require(a.f[b]):u(a.f[b],a.m[b]);e=setTimeout(t,h)},w=function(a,b,c){a=a||"",c=c||!1;var d=k,e;if(a&&!m(a)&&!n(a)){var f=a.split(x.separator);for(e=0;e<f.length;e+=1){if(!d[f[e]]){if(!b)return!1;d[f[e]]={}}d=d[f[e]]}}else{if(a==="")return!1;d=a}if(c)for(var g in c)d[g]=c[g];return d},x={};return x.errorTimeout=2e4,x.rootPath="",x.fileSuffix="",x.separator="/",x.configure=function(a){a=a||{},x.rootPath=a.rootPath||x.rootPath,x.rootPath=x.rootPath.lastIndexOf("/")===x.rootPath.length-1?x.rootPath:x.rootPath+"/",x.separator=a.separator||x.separator,x.fileSuffix=a.fileSuffix||x.fileSuffix;if(a.paths)for(var b=0;b<a.paths.length;b++){var d=a.paths[b];x.provides(d.file,d.modules)}c=!0},x.define=function(a,b,c){var d=Array.prototype.concat.call(arguments,[]);d.length==1?(c=d[0],a=null):l(d[0])?(a=null,b=d[0],c=d[1]):d.length==2&&(c=d[1]),b=b||[],a=a||x.getModuleID();if(b.length>0)return x.require(b,function(){x.define(a,c.apply(x,arguments))});var e=a.split(x.separator),f=e.splice(0,e.length-1).join(x.separator);a=e[0];var g={};return g[a]=c,w(f,!0,g)},x.get=function(a){if(!l(a))return w(a,!1);var b=[];for(var c=0;c<a.length;c++)b.push(x.get(a[c]));return b},x.getURL=function(a){if(b[a])return b[a];var c=a.indexOf("*")>-1;a=c?a.replace(".*",""):a;var d=x.rootPath+a.replace(RegExp("\\"+x.separator,"g"),"/")+(c?"":".js")+(x.fileSuffix?"?"+x.fileSuffix:"");return d},x.provides=function(a,c){c=o(c);for(var d=0;d<c.length;d+=1)b[c[d]]=a},x.require=function(b,d){c||x.configure(),b=o(b);var e=[],f=[];for(var h=0;h<b.length;h++){var i=b[h],j=x.getURL(i);f.push(i),g.indexOf(j)<0&&!x.get(i)&&(e.push(j),g.push(j))}if(e.length>0){var k={f:e,m:f,cb:d};p(function(){v(k)})}else d&&d.apply(a,x.get(b))},i&&(module.exports=x),a.define=x.define,a.require=x.require,x})(this);
